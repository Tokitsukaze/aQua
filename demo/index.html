<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aqua Test</title>
    <link rel="stylesheet" href="../static/index.scss">
    <link rel="stylesheet" href="./static/index.scss">
</head>
<body>
    <div class="center">
        <div id="editor" class="my-editor"></div>
        <!-- <div id="receiver" class="contentEditor" contenteditable="true" style="width: 1000px; min-height: 1000px; background-color: rgba(0, 0, 0, .1)"></div> -->
    </div>

    <script src="./src/index.js" defer></script>
    <script>
        // const $receiver = document.getElementById('receiver')

        // const DTI = {
        //     handle(dataTransferItem, handler) {
        //         const { kind, type } = dataTransferItem

        //         if (kind === 'string') {
        //             console.error('find string', type)
        //             if (type.match('^text/plain')) {
        //                 dataTransferItem.getAsString(handler.text)
        //             } else if (type.match('^text/html')) {
        //                 dataTransferItem.getAsString(handler.html)
        //             } else {
        //                 console.error(`Unknown tpye ${type} in string`)
        //             }
        //         }

        //         if (kind === 'file') {
        //             console.warn('find file', type)
        //             if (type.match('^image/')) {
        //                 dataTransferItem.getAsFile(handler.file)
        //             } else {
        //                 console.error(`Unknown tpye ${type} in file`)
        //             }
        //         }
        //     }
        // }

        // $receiver.addEventListener('paste', event => {
        //     const items = event.clipboardData.items
        //     console.error('items', items)

        //     for (let i = 0, len = items.length; i < len; i++) {
        //         DTI.handle(items[i], {
        //             text: text => {
        //                 console.info('text', text)
        //             },

        //             html: html => {
        //                 console.info('html', html)
        //                 const $test = document.getElementById('con')
        //                 const regexp = new RegExp(/^(<!--StartFragment-->)([\s\S]*)(<!--EndFragment-->)/, 'gm')

        //                 const c = regexp.exec(html)[2]
        //                 console.error(c)
        //                 $test.innerHTML = c
        //             },

        //             file: file => {
        //                 console.info('file', file)
        //             }
        //         })
        //     }
        // })
    </script>
</body>
</html>
